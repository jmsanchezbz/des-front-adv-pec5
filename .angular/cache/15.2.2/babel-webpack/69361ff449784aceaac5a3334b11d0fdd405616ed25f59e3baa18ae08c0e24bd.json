{"ast":null,"code":"var _class;\nfunction cov_2e0nsv5ai2() {\n  var path = \"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/home/home.component.ts\";\n  var hash = \"fe300631c8636c1c594d6e40aa9936c06c73f08d\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/home/home.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 10,\n          column: 20\n        },\n        end: {\n          line: 65,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 39\n        }\n      },\n      \"2\": {\n        start: {\n          line: 13,\n          column: 8\n        },\n        end: {\n          line: 13,\n          column: 55\n        }\n      },\n      \"3\": {\n        start: {\n          line: 14,\n          column: 8\n        },\n        end: {\n          line: 14,\n          column: 43\n        }\n      },\n      \"4\": {\n        start: {\n          line: 15,\n          column: 8\n        },\n        end: {\n          line: 15,\n          column: 29\n        }\n      },\n      \"5\": {\n        start: {\n          line: 16,\n          column: 8\n        },\n        end: {\n          line: 16,\n          column: 53\n        }\n      },\n      \"6\": {\n        start: {\n          line: 17,\n          column: 8\n        },\n        end: {\n          line: 17,\n          column: 33\n        }\n      },\n      \"7\": {\n        start: {\n          line: 18,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 25\n        }\n      },\n      \"8\": {\n        start: {\n          line: 21,\n          column: 8\n        },\n        end: {\n          line: 25,\n          column: 11\n        }\n      },\n      \"9\": {\n        start: {\n          line: 22,\n          column: 12\n        },\n        end: {\n          line: 24,\n          column: 13\n        }\n      },\n      \"10\": {\n        start: {\n          line: 23,\n          column: 16\n        },\n        end: {\n          line: 23,\n          column: 62\n        }\n      },\n      \"11\": {\n        start: {\n          line: 29,\n          column: 23\n        },\n        end: {\n          line: 29,\n          column: 62\n        }\n      },\n      \"12\": {\n        start: {\n          line: 30,\n          column: 8\n        },\n        end: {\n          line: 32,\n          column: 9\n        }\n      },\n      \"13\": {\n        start: {\n          line: 31,\n          column: 12\n        },\n        end: {\n          line: 31,\n          column: 36\n        }\n      },\n      \"14\": {\n        start: {\n          line: 33,\n          column: 8\n        },\n        end: {\n          line: 38,\n          column: 11\n        }\n      },\n      \"15\": {\n        start: {\n          line: 34,\n          column: 12\n        },\n        end: {\n          line: 34,\n          column: 31\n        }\n      },\n      \"16\": {\n        start: {\n          line: 36,\n          column: 12\n        },\n        end: {\n          line: 36,\n          column: 40\n        }\n      },\n      \"17\": {\n        start: {\n          line: 37,\n          column: 12\n        },\n        end: {\n          line: 37,\n          column: 55\n        }\n      },\n      \"18\": {\n        start: {\n          line: 42,\n          column: 8\n        },\n        end: {\n          line: 47,\n          column: 11\n        }\n      },\n      \"19\": {\n        start: {\n          line: 43,\n          column: 12\n        },\n        end: {\n          line: 43,\n          column: 29\n        }\n      },\n      \"20\": {\n        start: {\n          line: 45,\n          column: 12\n        },\n        end: {\n          line: 45,\n          column: 40\n        }\n      },\n      \"21\": {\n        start: {\n          line: 46,\n          column: 12\n        },\n        end: {\n          line: 46,\n          column: 55\n        }\n      },\n      \"22\": {\n        start: {\n          line: 51,\n          column: 8\n        },\n        end: {\n          line: 56,\n          column: 11\n        }\n      },\n      \"23\": {\n        start: {\n          line: 52,\n          column: 12\n        },\n        end: {\n          line: 52,\n          column: 29\n        }\n      },\n      \"24\": {\n        start: {\n          line: 54,\n          column: 12\n        },\n        end: {\n          line: 54,\n          column: 40\n        }\n      },\n      \"25\": {\n        start: {\n          line: 55,\n          column: 12\n        },\n        end: {\n          line: 55,\n          column: 55\n        }\n      },\n      \"26\": {\n        start: {\n          line: 58,\n          column: 13\n        },\n        end: {\n          line: 64,\n          column: 6\n        }\n      },\n      \"27\": {\n        start: {\n          line: 58,\n          column: 41\n        },\n        end: {\n          line: 64,\n          column: 5\n        }\n      },\n      \"28\": {\n        start: {\n          line: 66,\n          column: 0\n        },\n        end: {\n          line: 72,\n          column: 18\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 11,\n            column: 4\n          },\n          end: {\n            line: 11,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 11,\n            column: 93\n          },\n          end: {\n            line: 19,\n            column: 5\n          }\n        },\n        line: 11\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 20,\n            column: 4\n          },\n          end: {\n            line: 20,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 20,\n            column: 15\n          },\n          end: {\n            line: 26,\n            column: 5\n          }\n        },\n        line: 20\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 21,\n            column: 59\n          },\n          end: {\n            line: 21,\n            column: 60\n          }\n        },\n        loc: {\n          start: {\n            line: 21,\n            column: 75\n          },\n          end: {\n            line: 25,\n            column: 9\n          }\n        },\n        line: 21\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 27,\n            column: 4\n          },\n          end: {\n            line: 27,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 27,\n            column: 16\n          },\n          end: {\n            line: 39,\n            column: 5\n          }\n        },\n        line: 27\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 33,\n            column: 46\n          },\n          end: {\n            line: 33,\n            column: 47\n          }\n        },\n        loc: {\n          start: {\n            line: 33,\n            column: 57\n          },\n          end: {\n            line: 35,\n            column: 9\n          }\n        },\n        line: 33\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 35,\n            column: 11\n          },\n          end: {\n            line: 35,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 35,\n            column: 22\n          },\n          end: {\n            line: 38,\n            column: 9\n          }\n        },\n        line: 35\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 40,\n            column: 4\n          },\n          end: {\n            line: 40,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 40,\n            column: 17\n          },\n          end: {\n            line: 48,\n            column: 5\n          }\n        },\n        line: 40\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 42,\n            column: 52\n          },\n          end: {\n            line: 42,\n            column: 53\n          }\n        },\n        loc: {\n          start: {\n            line: 42,\n            column: 58\n          },\n          end: {\n            line: 44,\n            column: 9\n          }\n        },\n        line: 42\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 44,\n            column: 11\n          },\n          end: {\n            line: 44,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 44,\n            column: 22\n          },\n          end: {\n            line: 47,\n            column: 9\n          }\n        },\n        line: 44\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 49,\n            column: 4\n          },\n          end: {\n            line: 49,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 49,\n            column: 20\n          },\n          end: {\n            line: 57,\n            column: 5\n          }\n        },\n        line: 49\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 51,\n            column: 55\n          },\n          end: {\n            line: 51,\n            column: 56\n          }\n        },\n        loc: {\n          start: {\n            line: 51,\n            column: 61\n          },\n          end: {\n            line: 53,\n            column: 9\n          }\n        },\n        line: 51\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 53,\n            column: 11\n          },\n          end: {\n            line: 53,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 53,\n            column: 22\n          },\n          end: {\n            line: 56,\n            column: 9\n          }\n        },\n        line: 53\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 58,\n            column: 35\n          },\n          end: {\n            line: 58,\n            column: 36\n          }\n        },\n        loc: {\n          start: {\n            line: 58,\n            column: 41\n          },\n          end: {\n            line: 64,\n            column: 5\n          }\n        },\n        line: 58\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 22,\n            column: 12\n          },\n          end: {\n            line: 24,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 22,\n            column: 12\n          },\n          end: {\n            line: 24,\n            column: 13\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 22\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 30,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 30,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 30\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"home.component.js\",\n      sourceRoot: \"\",\n      sources: [\"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/home/home.component.ts\"],\n      names: [],\n      mappings: \";;;AACA,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAC1C,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AAGzC,OAAO,EAAE,kBAAkB,EAAE,MAAM,uCAAuC,CAAC;AAC3E,OAAO,EAAE,mBAAmB,EAAE,MAAM,wCAAwC,CAAC;AAC7E,OAAO,EAAE,WAAW,EAAE,MAAM,+BAA+B,CAAC;AAC5D,OAAO,EAAE,aAAa,EAAE,MAAM,iCAAiC,CAAC;AAOzD,IAAM,aAAa,GAAnB,MAAM,aAAa;IAGxB,YACU,WAAwB,EACxB,mBAAwC,EACxC,aAA4B,EAC5B,MAAc,EACd,kBAAsC;QAJtC,gBAAW,GAAX,WAAW,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,uBAAkB,GAAlB,kBAAkB,CAAoB;QAE9C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,CAChD,CAAC,UAAuB,EAAE,EAAE;YAC1B,IAAI,UAAU,EAAE;gBACd,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,eAAe,CAAC;aAC/C;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IACO,SAAS;QACf,IAAI,aAAkB,CAAC;QACvB,MAAM,MAAM,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,SAAS,CACnC,CAAC,KAAgB,EAAE,EAAE;YACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACrB,CAAC,EACD,CAAC,KAAwB,EAAE,EAAE;YAC3B,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC7C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,MAAc;QACjB,IAAI,aAAkB,CAAC;QAEvB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,SAAS,CACzC,GAAG,EAAE;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,EACD,CAAC,KAAwB,EAAE,EAAE;YAC3B,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC7C,CAAC,CACF,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,MAAc;QACpB,IAAI,aAAkB,CAAC;QAEvB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,SAAS,CAC5C,GAAG,EAAE;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,EACD,CAAC,KAAwB,EAAE,EAAE;YAC3B,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC7C,CAAC,CACF,CAAC;IACJ,CAAC;;;;;;;;;AAnEU,aAAa;IALzB,SAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,8BAAoC;;KAErC,CAAC;GACW,aAAa,CAoEzB;SApEY,aAAa\",\n      sourcesContent: [\"import { HttpErrorResponse } from '@angular/common/http';\\nimport { Component } from '@angular/core';\\nimport { Router } from '@angular/router';\\nimport { HeaderMenus } from 'src/app/Models/header-menus.dto';\\nimport { PostDTO } from 'src/app/Models/post.dto';\\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\\nimport { LocalStorageService } from 'src/app/Services/local-storage.service';\\nimport { PostService } from 'src/app/Services/post.service';\\nimport { SharedService } from 'src/app/Services/shared.service';\\n\\n@Component({\\n  selector: 'app-home',\\n  templateUrl: './home.component.html',\\n  styleUrls: ['./home.component.scss'],\\n})\\nexport class HomeComponent {\\n  posts!: PostDTO[];\\n  showButtons: boolean;\\n  constructor(\\n    private postService: PostService,\\n    private localStorageService: LocalStorageService,\\n    private sharedService: SharedService,\\n    private router: Router,\\n    private headerMenusService: HeaderMenusService\\n  ) {\\n    this.showButtons = false;\\n    this.loadPosts();\\n  }\\n\\n  ngOnInit(): void {\\n    this.headerMenusService.headerManagement.subscribe(\\n      (headerInfo: HeaderMenus) => {\\n        if (headerInfo) {\\n          this.showButtons = headerInfo.showAuthSection;\\n        }\\n      }\\n    );\\n  }\\n  private loadPosts(): void {\\n    let errorResponse: any;\\n    const userId = this.localStorageService.get('user_id');\\n    if (userId) {\\n      this.showButtons = true;\\n    }\\n\\n    this.postService.getPosts().subscribe(\\n      (posts: PostDTO[]) => {\\n        this.posts = posts;\\n      },\\n      (error: HttpErrorResponse) => {\\n        errorResponse = error.error;\\n        this.sharedService.errorLog(errorResponse);\\n      }\\n    );\\n  }\\n\\n  like(postId: string): void {\\n    let errorResponse: any;\\n\\n    this.postService.likePost(postId).subscribe(\\n      () => {\\n        this.loadPosts();\\n      },\\n      (error: HttpErrorResponse) => {\\n        errorResponse = error.error;\\n        this.sharedService.errorLog(errorResponse);\\n      }\\n    );\\n  }\\n\\n  dislike(postId: string): void {\\n    let errorResponse: any;\\n\\n    this.postService.dislikePost(postId).subscribe(\\n      () => {\\n        this.loadPosts();\\n      },\\n      (error: HttpErrorResponse) => {\\n        errorResponse = error.error;\\n        this.sharedService.errorLog(errorResponse);\\n      }\\n    );\\n  }\\n}\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"fe300631c8636c1c594d6e40aa9936c06c73f08d\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_2e0nsv5ai2 = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\ncov_2e0nsv5ai2();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./home.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./home.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\nimport { LocalStorageService } from 'src/app/Services/local-storage.service';\nimport { PostService } from 'src/app/Services/post.service';\nimport { SharedService } from 'src/app/Services/shared.service';\ncov_2e0nsv5ai2().s[0]++;\nlet HomeComponent = (_class = class HomeComponent {\n  constructor(postService, localStorageService, sharedService, router, headerMenusService) {\n    cov_2e0nsv5ai2().f[0]++;\n    cov_2e0nsv5ai2().s[1]++;\n    this.postService = postService;\n    cov_2e0nsv5ai2().s[2]++;\n    this.localStorageService = localStorageService;\n    cov_2e0nsv5ai2().s[3]++;\n    this.sharedService = sharedService;\n    cov_2e0nsv5ai2().s[4]++;\n    this.router = router;\n    cov_2e0nsv5ai2().s[5]++;\n    this.headerMenusService = headerMenusService;\n    cov_2e0nsv5ai2().s[6]++;\n    this.showButtons = false;\n    cov_2e0nsv5ai2().s[7]++;\n    this.loadPosts();\n  }\n  ngOnInit() {\n    cov_2e0nsv5ai2().f[1]++;\n    cov_2e0nsv5ai2().s[8]++;\n    this.headerMenusService.headerManagement.subscribe(headerInfo => {\n      cov_2e0nsv5ai2().f[2]++;\n      cov_2e0nsv5ai2().s[9]++;\n      if (headerInfo) {\n        cov_2e0nsv5ai2().b[0][0]++;\n        cov_2e0nsv5ai2().s[10]++;\n        this.showButtons = headerInfo.showAuthSection;\n      } else {\n        cov_2e0nsv5ai2().b[0][1]++;\n      }\n    });\n  }\n  loadPosts() {\n    cov_2e0nsv5ai2().f[3]++;\n    let errorResponse;\n    const userId = (cov_2e0nsv5ai2().s[11]++, this.localStorageService.get('user_id'));\n    cov_2e0nsv5ai2().s[12]++;\n    if (userId) {\n      cov_2e0nsv5ai2().b[1][0]++;\n      cov_2e0nsv5ai2().s[13]++;\n      this.showButtons = true;\n    } else {\n      cov_2e0nsv5ai2().b[1][1]++;\n    }\n    cov_2e0nsv5ai2().s[14]++;\n    this.postService.getPosts().subscribe(posts => {\n      cov_2e0nsv5ai2().f[4]++;\n      cov_2e0nsv5ai2().s[15]++;\n      this.posts = posts;\n    }, error => {\n      cov_2e0nsv5ai2().f[5]++;\n      cov_2e0nsv5ai2().s[16]++;\n      errorResponse = error.error;\n      cov_2e0nsv5ai2().s[17]++;\n      this.sharedService.errorLog(errorResponse);\n    });\n  }\n  like(postId) {\n    cov_2e0nsv5ai2().f[6]++;\n    let errorResponse;\n    cov_2e0nsv5ai2().s[18]++;\n    this.postService.likePost(postId).subscribe(() => {\n      cov_2e0nsv5ai2().f[7]++;\n      cov_2e0nsv5ai2().s[19]++;\n      this.loadPosts();\n    }, error => {\n      cov_2e0nsv5ai2().f[8]++;\n      cov_2e0nsv5ai2().s[20]++;\n      errorResponse = error.error;\n      cov_2e0nsv5ai2().s[21]++;\n      this.sharedService.errorLog(errorResponse);\n    });\n  }\n  dislike(postId) {\n    cov_2e0nsv5ai2().f[9]++;\n    let errorResponse;\n    cov_2e0nsv5ai2().s[22]++;\n    this.postService.dislikePost(postId).subscribe(() => {\n      cov_2e0nsv5ai2().f[10]++;\n      cov_2e0nsv5ai2().s[23]++;\n      this.loadPosts();\n    }, error => {\n      cov_2e0nsv5ai2().f[11]++;\n      cov_2e0nsv5ai2().s[24]++;\n      errorResponse = error.error;\n      cov_2e0nsv5ai2().s[25]++;\n      this.sharedService.errorLog(errorResponse);\n    });\n  }\n}, (() => {\n  cov_2e0nsv5ai2().s[26]++;\n  _class.ctorParameters = () => {\n    cov_2e0nsv5ai2().f[12]++;\n    cov_2e0nsv5ai2().s[27]++;\n    return [{\n      type: PostService\n    }, {\n      type: LocalStorageService\n    }, {\n      type: SharedService\n    }, {\n      type: Router\n    }, {\n      type: HeaderMenusService\n    }];\n  };\n})(), _class);\ncov_2e0nsv5ai2().s[28]++;\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"names":["cov_2e0nsv5ai2","actualCoverage","Component","Router","HeaderMenusService","LocalStorageService","PostService","SharedService","s","HomeComponent","_class","constructor","postService","localStorageService","sharedService","router","headerMenusService","f","showButtons","loadPosts","ngOnInit","headerManagement","subscribe","headerInfo","b","showAuthSection","errorResponse","userId","get","getPosts","posts","error","errorLog","like","postId","likePost","dislike","dislikePost","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/home/home.component.ts"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HeaderMenus } from 'src/app/Models/header-menus.dto';\nimport { PostDTO } from 'src/app/Models/post.dto';\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\nimport { LocalStorageService } from 'src/app/Services/local-storage.service';\nimport { PostService } from 'src/app/Services/post.service';\nimport { SharedService } from 'src/app/Services/shared.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent {\n  posts!: PostDTO[];\n  showButtons: boolean;\n  constructor(\n    private postService: PostService,\n    private localStorageService: LocalStorageService,\n    private sharedService: SharedService,\n    private router: Router,\n    private headerMenusService: HeaderMenusService\n  ) {\n    this.showButtons = false;\n    this.loadPosts();\n  }\n\n  ngOnInit(): void {\n    this.headerMenusService.headerManagement.subscribe(\n      (headerInfo: HeaderMenus) => {\n        if (headerInfo) {\n          this.showButtons = headerInfo.showAuthSection;\n        }\n      }\n    );\n  }\n  private loadPosts(): void {\n    let errorResponse: any;\n    const userId = this.localStorageService.get('user_id');\n    if (userId) {\n      this.showButtons = true;\n    }\n\n    this.postService.getPosts().subscribe(\n      (posts: PostDTO[]) => {\n        this.posts = posts;\n      },\n      (error: HttpErrorResponse) => {\n        errorResponse = error.error;\n        this.sharedService.errorLog(errorResponse);\n      }\n    );\n  }\n\n  like(postId: string): void {\n    let errorResponse: any;\n\n    this.postService.likePost(postId).subscribe(\n      () => {\n        this.loadPosts();\n      },\n      (error: HttpErrorResponse) => {\n        errorResponse = error.error;\n        this.sharedService.errorLog(errorResponse);\n      }\n    );\n  }\n\n  dislike(postId: string): void {\n    let errorResponse: any;\n\n    this.postService.dislikePost(postId).subscribe(\n      () => {\n        this.loadPosts();\n      },\n      (error: HttpErrorResponse) => {\n        errorResponse = error.error;\n        this.sharedService.errorLog(errorResponse);\n      }\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}