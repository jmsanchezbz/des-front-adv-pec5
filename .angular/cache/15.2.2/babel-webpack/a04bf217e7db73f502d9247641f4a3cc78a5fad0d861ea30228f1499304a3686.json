{"ast":null,"code":"import _asyncToGenerator from \"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nfunction cov_aondqntyb() {\n  var path = \"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/register/register.component.ts\";\n  var hash = \"d0bc590483dab44382d21b8e7317eb576458a21f\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/register/register.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 13,\n          column: 24\n        },\n        end: {\n          line: 100,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 15,\n          column: 8\n        },\n        end: {\n          line: 15,\n          column: 39\n        }\n      },\n      \"2\": {\n        start: {\n          line: 16,\n          column: 8\n        },\n        end: {\n          line: 16,\n          column: 39\n        }\n      },\n      \"3\": {\n        start: {\n          line: 17,\n          column: 8\n        },\n        end: {\n          line: 17,\n          column: 43\n        }\n      },\n      \"4\": {\n        start: {\n          line: 18,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 53\n        }\n      },\n      \"5\": {\n        start: {\n          line: 19,\n          column: 8\n        },\n        end: {\n          line: 19,\n          column: 29\n        }\n      },\n      \"6\": {\n        start: {\n          line: 20,\n          column: 8\n        },\n        end: {\n          line: 20,\n          column: 76\n        }\n      },\n      \"7\": {\n        start: {\n          line: 21,\n          column: 8\n        },\n        end: {\n          line: 21,\n          column: 32\n        }\n      },\n      \"8\": {\n        start: {\n          line: 22,\n          column: 8\n        },\n        end: {\n          line: 26,\n          column: 11\n        }\n      },\n      \"9\": {\n        start: {\n          line: 27,\n          column: 8\n        },\n        end: {\n          line: 31,\n          column: 11\n        }\n      },\n      \"10\": {\n        start: {\n          line: 32,\n          column: 8\n        },\n        end: {\n          line: 35,\n          column: 11\n        }\n      },\n      \"11\": {\n        start: {\n          line: 36,\n          column: 8\n        },\n        end: {\n          line: 40,\n          column: 11\n        }\n      },\n      \"12\": {\n        start: {\n          line: 41,\n          column: 8\n        },\n        end: {\n          line: 41,\n          column: 134\n        }\n      },\n      \"13\": {\n        start: {\n          line: 42,\n          column: 8\n        },\n        end: {\n          line: 45,\n          column: 11\n        }\n      },\n      \"14\": {\n        start: {\n          line: 46,\n          column: 8\n        },\n        end: {\n          line: 49,\n          column: 11\n        }\n      },\n      \"15\": {\n        start: {\n          line: 50,\n          column: 8\n        },\n        end: {\n          line: 58,\n          column: 11\n        }\n      },\n      \"16\": {\n        start: {\n          line: 62,\n          column: 25\n        },\n        end: {\n          line: 62,\n          column: 30\n        }\n      },\n      \"17\": {\n        start: {\n          line: 63,\n          column: 8\n        },\n        end: {\n          line: 63,\n          column: 33\n        }\n      },\n      \"18\": {\n        start: {\n          line: 65,\n          column: 8\n        },\n        end: {\n          line: 67,\n          column: 9\n        }\n      },\n      \"19\": {\n        start: {\n          line: 66,\n          column: 12\n        },\n        end: {\n          line: 66,\n          column: 19\n        }\n      },\n      \"20\": {\n        start: {\n          line: 68,\n          column: 8\n        },\n        end: {\n          line: 68,\n          column: 32\n        }\n      },\n      \"21\": {\n        start: {\n          line: 69,\n          column: 8\n        },\n        end: {\n          line: 69,\n          column: 52\n        }\n      },\n      \"22\": {\n        start: {\n          line: 70,\n          column: 8\n        },\n        end: {\n          line: 91,\n          column: 11\n        }\n      },\n      \"23\": {\n        start: {\n          line: 73,\n          column: 12\n        },\n        end: {\n          line: 73,\n          column: 100\n        }\n      },\n      \"24\": {\n        start: {\n          line: 74,\n          column: 12\n        },\n        end: {\n          line: 78,\n          column: 13\n        }\n      },\n      \"25\": {\n        start: {\n          line: 75,\n          column: 16\n        },\n        end: {\n          line: 75,\n          column: 42\n        }\n      },\n      \"26\": {\n        start: {\n          line: 76,\n          column: 16\n        },\n        end: {\n          line: 76,\n          column: 85\n        }\n      },\n      \"27\": {\n        start: {\n          line: 77,\n          column: 16\n        },\n        end: {\n          line: 77,\n          column: 50\n        }\n      },\n      \"28\": {\n        start: {\n          line: 81,\n          column: 12\n        },\n        end: {\n          line: 81,\n          column: 30\n        }\n      },\n      \"29\": {\n        start: {\n          line: 83,\n          column: 12\n        },\n        end: {\n          line: 83,\n          column: 31\n        }\n      },\n      \"30\": {\n        start: {\n          line: 84,\n          column: 12\n        },\n        end: {\n          line: 84,\n          column: 40\n        }\n      },\n      \"31\": {\n        start: {\n          line: 85,\n          column: 31\n        },\n        end: {\n          line: 88,\n          column: 13\n        }\n      },\n      \"32\": {\n        start: {\n          line: 89,\n          column: 12\n        },\n        end: {\n          line: 89,\n          column: 70\n        }\n      },\n      \"33\": {\n        start: {\n          line: 90,\n          column: 12\n        },\n        end: {\n          line: 90,\n          column: 55\n        }\n      },\n      \"34\": {\n        start: {\n          line: 93,\n          column: 13\n        },\n        end: {\n          line: 99,\n          column: 6\n        }\n      },\n      \"35\": {\n        start: {\n          line: 93,\n          column: 41\n        },\n        end: {\n          line: 99,\n          column: 5\n        }\n      },\n      \"36\": {\n        start: {\n          line: 101,\n          column: 0\n        },\n        end: {\n          line: 107,\n          column: 22\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 14,\n            column: 4\n          },\n          end: {\n            line: 14,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 14,\n            column: 85\n          },\n          end: {\n            line: 59,\n            column: 5\n          }\n        },\n        line: 14\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 60,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 15\n          },\n          end: {\n            line: 60,\n            column: 18\n          }\n        },\n        line: 60\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 61,\n            column: 4\n          },\n          end: {\n            line: 61,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 61,\n            column: 15\n          },\n          end: {\n            line: 92,\n            column: 5\n          }\n        },\n        line: 61\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 72,\n            column: 27\n          },\n          end: {\n            line: 72,\n            column: 28\n          }\n        },\n        loc: {\n          start: {\n            line: 72,\n            column: 39\n          },\n          end: {\n            line: 79,\n            column: 9\n          }\n        },\n        line: 72\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 80,\n            column: 23\n          },\n          end: {\n            line: 80,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 80,\n            column: 29\n          },\n          end: {\n            line: 82,\n            column: 9\n          }\n        },\n        line: 80\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 82,\n            column: 11\n          },\n          end: {\n            line: 82,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 82,\n            column: 22\n          },\n          end: {\n            line: 91,\n            column: 9\n          }\n        },\n        line: 82\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 93,\n            column: 35\n          },\n          end: {\n            line: 93,\n            column: 36\n          }\n        },\n        loc: {\n          start: {\n            line: 93,\n            column: 41\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        },\n        line: 93\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 65,\n            column: 8\n          },\n          end: {\n            line: 67,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 65,\n            column: 8\n          },\n          end: {\n            line: 67,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 65\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 74,\n            column: 12\n          },\n          end: {\n            line: 78,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 74,\n            column: 12\n          },\n          end: {\n            line: 78,\n            column: 13\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 74\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"register.component.js\",\n      sourceRoot: \"\",\n      sources: [\"/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/register/register.component.ts\"],\n      names: [],\n      mappings: \"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\",\n      sourcesContent: [\"import { formatDate } from '@angular/common';\\nimport { HttpErrorResponse } from '@angular/common/http';\\nimport { Component, OnInit } from '@angular/core';\\nimport {\\n  UntypedFormBuilder,\\n  UntypedFormControl,\\n  UntypedFormGroup,\\n  Validators,\\n} from '@angular/forms';\\nimport { Router } from '@angular/router';\\nimport { finalize } from 'rxjs/operators';\\nimport { HeaderMenus } from 'src/app/Models/header-menus.dto';\\nimport { UserDTO } from 'src/app/Models/user.dto';\\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\\nimport { SharedService } from 'src/app/Services/shared.service';\\nimport { UserService } from 'src/app/Services/user.service';\\n\\n@Component({\\n  selector: 'app-register',\\n  templateUrl: './register.component.html',\\n  styleUrls: ['./register.component.scss'],\\n})\\nexport class RegisterComponent implements OnInit {\\n  registerUser: UserDTO;\\n\\n  name: UntypedFormControl;\\n  surname_1: UntypedFormControl;\\n  surname_2: UntypedFormControl;\\n  alias: UntypedFormControl;\\n  birth_date: UntypedFormControl;\\n  email: UntypedFormControl;\\n  password: UntypedFormControl;\\n\\n  registerForm: UntypedFormGroup;\\n  isValidForm: boolean | null;\\n\\n  constructor(\\n    private formBuilder: UntypedFormBuilder,\\n    private userService: UserService,\\n    private sharedService: SharedService,\\n    private headerMenusService: HeaderMenusService,\\n    private router: Router\\n  ) {\\n    this.registerUser = new UserDTO('', '', '', '', new Date(), '', '');\\n\\n    this.isValidForm = null;\\n\\n    this.name = new UntypedFormControl(this.registerUser.name, [\\n      Validators.required,\\n      Validators.minLength(5),\\n      Validators.maxLength(25),\\n    ]);\\n\\n    this.surname_1 = new UntypedFormControl(this.registerUser.surname_1, [\\n      Validators.required,\\n      Validators.minLength(5),\\n      Validators.maxLength(25),\\n    ]);\\n\\n    this.surname_2 = new UntypedFormControl(this.registerUser.surname_2, [\\n      Validators.minLength(5),\\n      Validators.maxLength(25),\\n    ]);\\n\\n    this.alias = new UntypedFormControl(this.registerUser.alias, [\\n      Validators.required,\\n      Validators.minLength(5),\\n      Validators.maxLength(25),\\n    ]);\\n\\n    this.birth_date = new UntypedFormControl(\\n      formatDate(this.registerUser.birth_date, 'yyyy-MM-dd', 'en'),\\n      [Validators.required]\\n    );\\n\\n    this.email = new UntypedFormControl(this.registerUser.email, [\\n      Validators.required,\\n      Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$'),\\n    ]);\\n\\n    this.password = new UntypedFormControl(this.registerUser.password, [\\n      Validators.required,\\n      Validators.minLength(8),\\n    ]);\\n\\n    this.registerForm = this.formBuilder.group({\\n      name: this.name,\\n      surname_1: this.surname_1,\\n      surname_2: this.surname_2,\\n      alias: this.alias,\\n      birth_date: this.birth_date,\\n      email: this.email,\\n      password: this.password,\\n    });\\n  }\\n\\n  ngOnInit(): void {}\\n\\n  register(): void {\\n    let responseOK: boolean = false;\\n    this.isValidForm = false;\\n    let errorResponse: any;\\n\\n    if (this.registerForm.invalid) {\\n      return;\\n    }\\n\\n    this.isValidForm = true;\\n    this.registerUser = this.registerForm.value;\\n\\n    this.userService\\n      .register(this.registerUser)\\n      .pipe(\\n        finalize(async () => {\\n          await this.sharedService.managementToast(\\n            'registerFeedback',\\n            responseOK,\\n            errorResponse\\n          );\\n\\n          if (responseOK) {\\n            this.registerForm.reset();\\n            this.birth_date.setValue(\\n              formatDate(new Date(), 'yyyy-MM-dd', 'en')\\n            );\\n            this.router.navigateByUrl('home');\\n          }\\n        })\\n      )\\n      .subscribe(\\n        () => {\\n          responseOK = true;\\n        },\\n        (error: HttpErrorResponse) => {\\n          responseOK = false;\\n          errorResponse = error.error;\\n\\n          const headerInfo: HeaderMenus = {\\n            showAuthSection: false,\\n            showNoAuthSection: true,\\n          };\\n\\n          this.headerMenusService.headerManagement.next(headerInfo);\\n          this.sharedService.errorLog(errorResponse);\\n        }\\n      );\\n  }\\n}\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"d0bc590483dab44382d21b8e7317eb576458a21f\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_aondqntyb = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\ncov_aondqntyb();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./register.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./register.component.scss?ngResource\";\nimport { formatDate } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\nimport { UserDTO } from 'src/app/Models/user.dto';\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\nimport { SharedService } from 'src/app/Services/shared.service';\nimport { UserService } from 'src/app/Services/user.service';\ncov_aondqntyb().s[0]++;\nlet RegisterComponent = (_class = class RegisterComponent {\n  constructor(formBuilder, userService, sharedService, headerMenusService, router) {\n    cov_aondqntyb().f[0]++;\n    cov_aondqntyb().s[1]++;\n    this.formBuilder = formBuilder;\n    cov_aondqntyb().s[2]++;\n    this.userService = userService;\n    cov_aondqntyb().s[3]++;\n    this.sharedService = sharedService;\n    cov_aondqntyb().s[4]++;\n    this.headerMenusService = headerMenusService;\n    cov_aondqntyb().s[5]++;\n    this.router = router;\n    cov_aondqntyb().s[6]++;\n    this.registerUser = new UserDTO('', '', '', '', new Date(), '', '');\n    cov_aondqntyb().s[7]++;\n    this.isValidForm = null;\n    cov_aondqntyb().s[8]++;\n    this.name = new UntypedFormControl(this.registerUser.name, [Validators.required, Validators.minLength(5), Validators.maxLength(25)]);\n    cov_aondqntyb().s[9]++;\n    this.surname_1 = new UntypedFormControl(this.registerUser.surname_1, [Validators.required, Validators.minLength(5), Validators.maxLength(25)]);\n    cov_aondqntyb().s[10]++;\n    this.surname_2 = new UntypedFormControl(this.registerUser.surname_2, [Validators.minLength(5), Validators.maxLength(25)]);\n    cov_aondqntyb().s[11]++;\n    this.alias = new UntypedFormControl(this.registerUser.alias, [Validators.required, Validators.minLength(5), Validators.maxLength(25)]);\n    cov_aondqntyb().s[12]++;\n    this.birth_date = new UntypedFormControl(formatDate(this.registerUser.birth_date, 'yyyy-MM-dd', 'en'), [Validators.required]);\n    cov_aondqntyb().s[13]++;\n    this.email = new UntypedFormControl(this.registerUser.email, [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$')]);\n    cov_aondqntyb().s[14]++;\n    this.password = new UntypedFormControl(this.registerUser.password, [Validators.required, Validators.minLength(8)]);\n    cov_aondqntyb().s[15]++;\n    this.registerForm = this.formBuilder.group({\n      name: this.name,\n      surname_1: this.surname_1,\n      surname_2: this.surname_2,\n      alias: this.alias,\n      birth_date: this.birth_date,\n      email: this.email,\n      password: this.password\n    });\n  }\n  ngOnInit() {\n    cov_aondqntyb().f[1]++;\n  }\n  register() {\n    var _this = this;\n    cov_aondqntyb().f[2]++;\n    let responseOK = (cov_aondqntyb().s[16]++, false);\n    cov_aondqntyb().s[17]++;\n    this.isValidForm = false;\n    let errorResponse;\n    cov_aondqntyb().s[18]++;\n    if (this.registerForm.invalid) {\n      cov_aondqntyb().b[0][0]++;\n      cov_aondqntyb().s[19]++;\n      return;\n    } else {\n      cov_aondqntyb().b[0][1]++;\n    }\n    cov_aondqntyb().s[20]++;\n    this.isValidForm = true;\n    cov_aondqntyb().s[21]++;\n    this.registerUser = this.registerForm.value;\n    cov_aondqntyb().s[22]++;\n    this.userService.register(this.registerUser).pipe(finalize( /*#__PURE__*/_asyncToGenerator(function* () {\n      cov_aondqntyb().f[3]++;\n      cov_aondqntyb().s[23]++;\n      yield _this.sharedService.managementToast('registerFeedback', responseOK, errorResponse);\n      cov_aondqntyb().s[24]++;\n      if (responseOK) {\n        cov_aondqntyb().b[1][0]++;\n        cov_aondqntyb().s[25]++;\n        _this.registerForm.reset();\n        cov_aondqntyb().s[26]++;\n        _this.birth_date.setValue(formatDate(new Date(), 'yyyy-MM-dd', 'en'));\n        cov_aondqntyb().s[27]++;\n        _this.router.navigateByUrl('home');\n      } else {\n        cov_aondqntyb().b[1][1]++;\n      }\n    }))).subscribe(() => {\n      cov_aondqntyb().f[4]++;\n      cov_aondqntyb().s[28]++;\n      responseOK = true;\n    }, error => {\n      cov_aondqntyb().f[5]++;\n      cov_aondqntyb().s[29]++;\n      responseOK = false;\n      cov_aondqntyb().s[30]++;\n      errorResponse = error.error;\n      const headerInfo = (cov_aondqntyb().s[31]++, {\n        showAuthSection: false,\n        showNoAuthSection: true\n      });\n      cov_aondqntyb().s[32]++;\n      this.headerMenusService.headerManagement.next(headerInfo);\n      cov_aondqntyb().s[33]++;\n      this.sharedService.errorLog(errorResponse);\n    });\n  }\n}, (() => {\n  cov_aondqntyb().s[34]++;\n  _class.ctorParameters = () => {\n    cov_aondqntyb().f[6]++;\n    cov_aondqntyb().s[35]++;\n    return [{\n      type: UntypedFormBuilder\n    }, {\n      type: UserService\n    }, {\n      type: SharedService\n    }, {\n      type: HeaderMenusService\n    }, {\n      type: Router\n    }];\n  };\n})(), _class);\ncov_aondqntyb().s[36]++;\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"names":["cov_aondqntyb","actualCoverage","formatDate","Component","UntypedFormBuilder","UntypedFormControl","Validators","Router","finalize","UserDTO","HeaderMenusService","SharedService","UserService","s","RegisterComponent","_class","constructor","formBuilder","userService","sharedService","headerMenusService","router","f","registerUser","Date","isValidForm","name","required","minLength","maxLength","surname_1","surname_2","alias","birth_date","email","pattern","password","registerForm","group","ngOnInit","register","_this","responseOK","errorResponse","invalid","b","value","pipe","_asyncToGenerator","managementToast","reset","setValue","navigateByUrl","subscribe","error","headerInfo","showAuthSection","showNoAuthSection","headerManagement","next","errorLog","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["/home/jose/workspace/uoc/des-front-adv/pec4/sol-pec2-obs-blog-uoc-project-front/src/app/Components/register/register.component.ts"],"sourcesContent":["import { formatDate } from '@angular/common';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormControl,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\nimport { HeaderMenus } from 'src/app/Models/header-menus.dto';\nimport { UserDTO } from 'src/app/Models/user.dto';\nimport { HeaderMenusService } from 'src/app/Services/header-menus.service';\nimport { SharedService } from 'src/app/Services/shared.service';\nimport { UserService } from 'src/app/Services/user.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss'],\n})\nexport class RegisterComponent implements OnInit {\n  registerUser: UserDTO;\n\n  name: UntypedFormControl;\n  surname_1: UntypedFormControl;\n  surname_2: UntypedFormControl;\n  alias: UntypedFormControl;\n  birth_date: UntypedFormControl;\n  email: UntypedFormControl;\n  password: UntypedFormControl;\n\n  registerForm: UntypedFormGroup;\n  isValidForm: boolean | null;\n\n  constructor(\n    private formBuilder: UntypedFormBuilder,\n    private userService: UserService,\n    private sharedService: SharedService,\n    private headerMenusService: HeaderMenusService,\n    private router: Router\n  ) {\n    this.registerUser = new UserDTO('', '', '', '', new Date(), '', '');\n\n    this.isValidForm = null;\n\n    this.name = new UntypedFormControl(this.registerUser.name, [\n      Validators.required,\n      Validators.minLength(5),\n      Validators.maxLength(25),\n    ]);\n\n    this.surname_1 = new UntypedFormControl(this.registerUser.surname_1, [\n      Validators.required,\n      Validators.minLength(5),\n      Validators.maxLength(25),\n    ]);\n\n    this.surname_2 = new UntypedFormControl(this.registerUser.surname_2, [\n      Validators.minLength(5),\n      Validators.maxLength(25),\n    ]);\n\n    this.alias = new UntypedFormControl(this.registerUser.alias, [\n      Validators.required,\n      Validators.minLength(5),\n      Validators.maxLength(25),\n    ]);\n\n    this.birth_date = new UntypedFormControl(\n      formatDate(this.registerUser.birth_date, 'yyyy-MM-dd', 'en'),\n      [Validators.required]\n    );\n\n    this.email = new UntypedFormControl(this.registerUser.email, [\n      Validators.required,\n      Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$'),\n    ]);\n\n    this.password = new UntypedFormControl(this.registerUser.password, [\n      Validators.required,\n      Validators.minLength(8),\n    ]);\n\n    this.registerForm = this.formBuilder.group({\n      name: this.name,\n      surname_1: this.surname_1,\n      surname_2: this.surname_2,\n      alias: this.alias,\n      birth_date: this.birth_date,\n      email: this.email,\n      password: this.password,\n    });\n  }\n\n  ngOnInit(): void {}\n\n  register(): void {\n    let responseOK: boolean = false;\n    this.isValidForm = false;\n    let errorResponse: any;\n\n    if (this.registerForm.invalid) {\n      return;\n    }\n\n    this.isValidForm = true;\n    this.registerUser = this.registerForm.value;\n\n    this.userService\n      .register(this.registerUser)\n      .pipe(\n        finalize(async () => {\n          await this.sharedService.managementToast(\n            'registerFeedback',\n            responseOK,\n            errorResponse\n          );\n\n          if (responseOK) {\n            this.registerForm.reset();\n            this.birth_date.setValue(\n              formatDate(new Date(), 'yyyy-MM-dd', 'en')\n            );\n            this.router.navigateByUrl('home');\n          }\n        })\n      )\n      .subscribe(\n        () => {\n          responseOK = true;\n        },\n        (error: HttpErrorResponse) => {\n          responseOK = false;\n          errorResponse = error.error;\n\n          const headerInfo: HeaderMenus = {\n            showAuthSection: false,\n            showNoAuthSection: true,\n          };\n\n          this.headerMenusService.headerManagement.next(headerInfo);\n          this.sharedService.errorLog(errorResponse);\n        }\n      );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}